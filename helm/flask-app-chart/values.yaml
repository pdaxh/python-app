# Default values for flask-app
# This is a YAML-formatted file.

# Application configuration
app:
  name: flask-app
  version: "v2"
  port: 8080

# Image configuration
image:
  repository: danielaxhammar/flask-app
  tag: "v2"
  pullPolicy: IfNotPresent

# Deployment configuration
deployment:
  replicas: 1
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

# Service configuration
service:
  type: ClusterIP
  port: 8080
  targetPort: 8080

# Ingress configuration
ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
  hosts:
    - host: flask-app.local
      paths:
        - path: /
          pathType: Prefix

# Pod configuration
pod:
  labels:
    app: flask-app
  annotations: {}

# Security context
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 2000

# Liveness and readiness probes - Temporarily using root endpoint
probes:
  livenessProbe:
    enabled: true
    path: /
    port: 8080
    initialDelaySeconds: 60
    periodSeconds: 30
    timeoutSeconds: 5
    failureThreshold: 3
  readinessProbe:
    enabled: true
    path: /
    port: 8080
    initialDelaySeconds: 10
    periodSeconds: 15
    timeoutSeconds: 3
    failureThreshold: 3
